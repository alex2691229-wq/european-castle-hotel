# æ­å ¡å•†å‹™æ±½è»Šæ—…é¤¨ - Clean Rebuild TODO

## ğŸŸ¢ Phase 1ï¼šå…¨æ–°é‡è£½ï¼ˆClean Rebuildï¼‰- å·²å®Œæˆ

- [x] å‰µå»ºæ–°çš„ GitHub Branchï¼ˆclean-startï¼‰
- [x] åˆªé™¤æ‰€æœ‰æ¸¬è©¦æ–‡ä»¶ï¼ˆ*.test.tsï¼‰
- [x] åˆªé™¤åˆå§‹åŒ–è…³æœ¬å’Œå·¥ä½œå ±å‘Š
- [x] é‡å¯« api/db.tsï¼ˆæ­£ç¢ºè®€å–ç’°å¢ƒè®Šæ•¸ï¼ŒåŒ…å« SSL é…ç½®ï¼‰
- [x] é‡å¯« api/index.tsï¼ˆåªä¿ç•™é¦–é æˆ¿å‹å’Œå¥åº·æª¢æŸ¥ï¼Œç§»é™¤ @ts-nocheckï¼‰
- [x] æ·»åŠ æ­£ç¢ºçš„ TypeScript å‹åˆ¥å®šç¾©
- [x] æœ¬åœ°ç·¨è­¯æˆåŠŸï¼ˆç„¡ TypeScript éŒ¯èª¤ï¼‰

## ğŸŸ¢ Phase 2ï¼šé¦–é æˆ¿å‹é¡¯ç¤ºå’Œå¥åº·æª¢æŸ¥ - å·²å®Œæˆ

- [x] å¯¦ä½œ /api/health/db ç«¯é»ï¼ˆè¿”å› "connected"ï¼‰
- [x] å¯¦ä½œ /api/room-types ç«¯é»ï¼ˆå¾è³‡æ–™åº«è®€å–æˆ¿å‹ï¼‰
- [x] é¦–é æ­£å¸¸é¡¯ç¤º
- [x] æœ¬åœ°æ¸¬è©¦æˆåŠŸ

## ğŸŸ¡ Phase 3ï¼šéƒ¨ç½²åˆ° Vercel - é€²è¡Œä¸­

- [ ] æ¨é€ clean-start branch åˆ° GitHub
- [ ] åœ¨ Vercel ä¸­è¨­ç½® clean-start branch ç‚ºéƒ¨ç½²ä¾†æº
- [ ] é©—è­‰ Vercel éƒ¨ç½²æˆåŠŸ
- [ ] é©—è­‰ /api/health/db è¿”å› "connected"
- [ ] é©—è­‰é¦–é æˆ¿å‹é¡¯ç¤ºæ­£å¸¸

## âšª Phase 4ï¼šå¾ŒçºŒåŠŸèƒ½é–‹ç™¼ï¼ˆå¾…é©—è­‰éƒ¨ç½²å¾Œé–‹å§‹ï¼‰

- [ ] å¯¦ä½œç™»å…¥åŠŸèƒ½
- [ ] å¯¦ä½œè¨‚æˆ¿æµç¨‹
- [ ] å¯¦ä½œç®¡ç†å¾Œå°
- [ ] å¯¦ä½œå…¶ä»–åŠŸèƒ½

---

## é—œéµæ±ºå®š

1. **ä½¿ç”¨ clean-start branch** - å®Œå…¨éš”é›¢æ–°ä»£ç¢¼ï¼Œé¿å…èˆŠä»£ç¢¼å¹²æ“¾
2. **åªè®€å–ç’°å¢ƒè®Šæ•¸** - ä¸ç¡¬ç·¨ç¢¼ä»»ä½•æ•æ„Ÿä¿¡æ¯
3. **åŒ…å« SSL é…ç½®** - `{ rejectUnauthorized: false }`
4. **ç§»é™¤æ‰€æœ‰ @ts-nocheck** - ç¢ºä¿ TypeScript å‹åˆ¥å®‰å…¨
5. **åˆ†éšå¯¦ä½œ** - å…ˆé©—è­‰åŸºç¤åŠŸèƒ½ï¼Œå†é–‹ç™¼å¾ŒçºŒåŠŸèƒ½

---

## ç’°å¢ƒè®Šæ•¸è¦æ±‚

```
DATABASE_URL=mysql://user:password@gateway01.ap-northeast-1.prod.aws.tidbcloud.com:4000/test?ssl=true
```

---

## é©—è­‰æª¢æŸ¥æ¸…å–®

### æœ¬åœ°é©—è­‰ âœ…
- [x] é¦–é æ­£å¸¸é¡¯ç¤º
- [x] /api/health/db è¿”å› "connected"
- [x] ç·¨è­¯æˆåŠŸï¼ˆç„¡ TypeScript éŒ¯èª¤ï¼‰

### Vercel é©—è­‰ â³
- [ ] éƒ¨ç½²æˆåŠŸ
- [ ] /api/health/db è¿”å› "connected"
- [ ] é¦–é æˆ¿å‹æ­£å¸¸é¡¯ç¤º
- [ ] ç„¡ TypeScript å ±éŒ¯


## ğŸŸ¢ æ–°åŠŸèƒ½éœ€æ±‚ - å·²å®Œæˆ

- [x] åœ¨é¦–é å°èˆªæ¬„æ·»åŠ ã€Œæœ€æ–°æ¶ˆæ¯ã€æŒ‰éˆ•
- [x] å‰µå»º /news é é¢é¡¯ç¤ºæœ€æ–°æ¶ˆæ¯
- [x] å¾æ•¸æ“šåº«è®€å–æ¶ˆæ¯å…§å®¹
- [x] æœ¬åœ°æ¸¬è©¦é©—è­‰
- [ ] æ¨é€åˆ° clean-start branch


## ğŸŸ¢ å¿«é€Ÿä¿®è¤‡ - tRPC æ ¸å¿ƒæ¶æ§‹ - å·²å®Œæˆ

- [x] æ¢è¤‡ tRPC Server é…ç½®
- [x] å¯¦ç¾ auth.login ç«¯é»
- [x] å¯¦ç¾ roomTypes.list ç«¯é»
- [x] ç¢ºä¿å‹åˆ¥å®‰å…¨ï¼ˆç„¡ @ts-nocheckï¼‰
- [ ] éƒ¨ç½²é©—è­‰


## æœ€å°åŒ–ä¿®å¾© - åªä¿ç•™åŸºæœ¬åŠŸèƒ½ - å·²å®Œæˆ

- [x] åˆªé™¤èˆŠçš„è©¦é©—æ–‡ä»¶ï¼ˆdb-simple.ts, index-simple.tsï¼‰
- [x] è¨»è§£æ‰æ‰€æœ‰éæ ¸å¿ƒåŠŸèƒ½ï¼ˆNews, Facilities, Bookings ç­‰ï¼‰
- [x] åªä¿ç•™ auth.login å’Œ roomTypes.list
- [x] pnpm build æˆåŠŸï¼Œç„¡ TypeScript éŒ¯èª¤
- [x] æœ¬åœ°æ¸¬è©¦æˆåŠŸï¼ˆé¦–é ã€æˆ¿å‹ APIï¼‰
- [ ] éƒ¨ç½²åˆ° Vercel


## ä¿®å¾©ç·¨è­¯éŒ¯èª¤ - å·²å®Œæˆ

- [x] ç§»é™¤ package.json ä¸­çš„ || true
- [x] åˆªé™¤ api/db-init-simple.ts
- [x] ä¿®å¾© api/db.ts çš„ Null æª¢æŸ¥å’Œå‹åˆ¥
- [x] ä¿®å¾© api/index.ts çš„ Express å‹åˆ¥
- [x] pnpm build æˆåŠŸï¼Œç„¡ TypeScript éŒ¯èª¤
- [x] æœ¬åœ°æ¸¬è©¦æˆåŠŸï¼ˆé¦–é ã€tRPC ç«¯é»ï¼‰
- [ ] éƒ¨ç½²åˆ° Vercel


## ğŸŸ¢ ç·Šæ€¥é‡æ§‹ - Vercel Serverless åŸç”Ÿå¯«æ³• - å·²å®Œæˆ

- [x] é‡å¯« api/index.ts ä½¿ç”¨ Vercel å®˜æ–¹ Serverless å¯«æ³•
- [x] ä¿®è¤‡ api/db.ts çš„ Null æª¢æŸ¥ï¼ˆä½¿ç”¨ Getterï¼‰
- [x] ä¿®è¤‡ React å°å…¥å•é¡Œï¼ˆlogin.tsx, index.tsxï¼‰
- [x] ç¢ºä¿ TypeScript ç·¨è­¯å®Œå…¨æˆåŠŸï¼ˆnpx tsc --noEmitï¼‰
- [x] é©—è­‰ /api/trpc/roomTypes.list è¿”å›æœ‰æ•ˆ JSON
- [ ] éƒ¨ç½²åˆ° Vercel ä¸¦é©—è­‰
